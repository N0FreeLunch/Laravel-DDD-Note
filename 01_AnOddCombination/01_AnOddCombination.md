## DDD의 기초
- DDD는 지난 20년 동안 사용되고 정립된 개념이다.
- 개발 할 때 직면할 문제에 대한 잘 알려진 방식으로 해결할 수 있는 전략 및 접근 방식을 제공한다.
- 일반적인 프로그래밍 영역 보다, 비즈니스에 깊이 연관된 로직의 경우 DDD를 사용하는 것이 좋다.

## 도메인 주도 설계를 통해 얻는 것
- DDD는 다양한 모범사례와 안정적인 설계 패턴을 사용하여 만들어 졌기 때문에 좋은 프로그래밍에 대한 지식을 얻을 수 있다.
- DDD는 익스트림 프로그래밍 및 애자일 개발방식에서 시작되었기 때문에 DDD를 통해서 변경 가능하며 확장가능한 소프트웨어를 만드는 방식에 관한 지식을 얻을 수 있다.
- DDD를 통해서 객체지향의 5대 원칙을 더 잘 이해할 수 있다.

## DDD의 장점
- 복잡한 소프트웨어를 모델링 하는데 도움이 된다.
- 비즈니스의 요구사항에 가장 부합하는 소프트웨어를 만들 수 있다.
- 체계적이고 구조화 된 방식으로 시스템을 설명할 수 있다.
- 도메인 영역의 전문가들의 의견을 애플리케이션에 정확하게 담아낼 수 있는 방법을 제시한다.

### 도메인 객체의 특징

객체는 다양한 메소드의 조합으로 객체의 행동이 표현된다. 도메인 주도 설계에서 비즈니스 로직을 나타내는 객체는 객체의 각 메소드 간 서로 긴밀하게 연결되어 있어야 한다. 메소드를 보고 객체의 상태를 어떻게 변경시킬지를 예측할 수 있도록 만들어야 한다. 이 객체의 인터페이스는 도메인 전문가들이 이해할 수 있어야 한다. (이 때, 프로그래밍은 구체적인 로직을 나열한 것이기 때문에, 도메인 전문가는 비스니스 시스템에 대해 플로우 차트 정도는 그릴 수 있는 논리적 사고력이 있는 수준을 가정한다.)

도메인 객체는 이후 배울 엔티티, 값 객체(Value Object), 애그리게이트 루트 도메인 서비스 설계의 기본 개념이 된다.

### 전략 패턴

여기서의 전략 패턴은 GoF 디자인 패턴의 전략 패턴을 의미하지 않는다. DDD의 전략 패텅느 비즈니스 규칙 및 알고리즘을 캡슐화하여 표현하는 것을 뜻한다.

하지만 GoF의 전략 패턴은 DDD의 전략 패턴을 이해하는데 참고할만한데, 디자인 패턴의 전략 패턴은 동일한 인터페이스의 구현체인 객체를 주입해서 교체하는 형태로 만들어 필요에 따라 바뀔 수 있는 로직을 교체하는 방식을 의미한다. DDD에서의 전략패턴은 도메인의 의미적인 측면으로 이해해야 하는데, 변하지 않는 비즈니스 규칙과 변할 수 있는 규칙을 나누어 변하지 않는 비즈니스 규칙에 변하는 비즈니스 규칙을 교체할 수 있는 형태로 추상화하는 것을 의미한다.

전략 패턴은 변하는 도메인 로직을 교체할 수 있도록 만드는 것이지만, 기존 로직에 옵션으로 추가하는 개념을 설계할 때도 유용한 방법이다.

### 어뎁터 패턴 
- 서로 다른 두 인터페이스를 통합할 때 통합을 매개해 주는 패턴이다.
- 예를 들어 프레임워크는 다양한 RDBMS를 사용할 수 있는데 각각은 약간씩 사용방식이 다르다. 이를 동일한 방식으로 다룰 수 있도록 만드는 것이 어뎁터 패턴이다.
- 하나의 프레임워크의 코드들간의 통합 뿐만 아니라 서로 다른 시스템 또는 서로 다른 프로그래밍 언어로 된 프로그램을 통합하기 위한 패턴이다.
- 런타임 시점에서 통합할 요소들을 추가, 제거가 가능하도록 만들 수 있으며 이를 통해 여러 오브젝트들을 사용한 통합적인 계산 또는 데코레이터 패턴을 사용할 수도 있다.

### DDD의 어려움
- 수 많은 도메인이 존재하며, 각 도메인의 영역은 너무 디테일한 측면이 많고 전문화 되어 있다.
- 도메인 레이어를 설계하는데 도움이 되는 참고 자료는 엄청 많아서 어떤 것을 참고해야 할지, 어떤 툴을 사용해야 할지, 어떤 프레임워크를 사용해서 만들지 생각하는 것에 많은 어려움이 존재한다.

### 인프라 계층의 역할
- 도메인 모델(실제의 비즈니스 로직을 모델화 하는 것)과 응용 프로그램(프로그래머가 만든 소프트웨어) 간의 연결 역할을 한다. 그러니까 애플리케이션을 도메인 모델에 일치시켜 나가는 개발 방식이라고 보면 된다.
- 도메인 설계를 통해 인프라계층에서 비즈니스로직을 디테일하게 다룰 수 있도록 만들어 나갈 수 있다.

## 아키텍쳐
- 소프트웨어의 기본 구조를 잡는 것을 의미한다.
- 도메인 객체, 모듈, 경계 컨텍스트, 모델 등으로 구성되어 있다.
- 마치 건물의 뼈대를 이루는 철골 구조 support beam의 역할을 소프트웨어에서 한다.

### 아키텍처를 고려하지 않을 때 생기는 문제점
- 비즈니스 프로세스나 모델이 best practice 또는 적절한 구조 없이 작동한다는 이유만으로 프로덕션에 사용되고 있다.
- 대개의 경우 개발자들이 만들고 있는 소프트웨어는 'big ball of mud' 큰 진흙 덩어리로 향하고 있을 가능성이 높다.
- 불분명하고 흐릿한 로직을 분명하게, 통찰력 있는 비즈니스 모델을 만드는 것이 중요하지만 코드 리펙토링에 대한 게으름 및 로직에 대한 명확한 정의 없이 소프트웨어가 만들어지게 된다.

### big ball of mud의 특징
- 무계획적인 구조화 (구조화를 하는데 일정한 룰 없이 되는대로 구조화 하는 것)
- sprawling (불규칙하게 아무렇게나 만들어서 서비스 모델을 발전시키는 것)
- sloppy (sloppy : 엉성한 구조)
- 문제를 해결하기 위한 임시 뗌빵식 로직 (duct-tape-and-baling-wire)
- 스파게티 코드
- 규칙없는 성장과 반복의 징후

## DDD의 아키텍처
### 모놀리식 아키텍처
- 플렛폼 레벨과 분리된 도메인 레벨의 로직의 구성이 필요하다.
- 모든 것을 포함하기 때문에 머드볼(ball of mud) 구조가 될 가능성이 높다. (모든 것 : infrastructure, database, application-level, presentation concerns)

### 마이크로 서비스 아키텍처 (MSA)
- 모놀리식 아키텍처가 통제 불가능한 애플리케이션으로 향하기 쉬운 것에 반해 마이크로 서비스 아키텍처는 잘 분리되어 설계되기 때문에 뒤죽박죽 섞이는 일이 적다.
- 거대한 시스템을 구성요소들의 조합으로 만드는 방식이며, 각각의 구성요소들은 하나의 작은 애플리케이션의 기능을 가진다.
- 구성요소들은 별도의 인프라 또는 플렛폼에 위치할 수 있으며, 각각의 구성요소들 간에는 서로 통신을 할 수 있다.
- 기본적으로 도메인 별로 애플리케이션을 만드는 방식으로 구성되어 DDD의 개념을 따른다.

## 라라벨에서의 DDD
- 모놀리식 구성의 라라벨 아키텍처에서 마이크로 아키텍처 처럼 구성 요소들 간의 분리를 통해 통제, 확장, 리펙토링이 가능한 코드를 만들어 나갈 수 있게 만드는 것이다.
