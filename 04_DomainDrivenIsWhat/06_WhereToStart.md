## 문제공간
- 회사가 해결하고자 하는 모든 것
- 창고 관리 소프트웨어의 3가지 : 주문 관리, 재고 관리, 이행(Fulfillment)으로 나눠 볼 수 있으며, 주문 도메인의 하위 도메인에 이행 도메인이 존재하며, 재고관리 도메인은 따로 존재한다.

## 솔루션 공간
- 솔루션 공간은 도메인을 나누는 방식이다. 도메인을 나누는 방식은 도메인을 관점별로 분류를 하는 방식이다. 관점별로 분류화 하게 되면 그룹화를 하는데 큰 카테고리로 그룹화를 하고 각 큰 카테고리를 작은 카테고리로 그룹화를 해 나가면서 도메인 모델을 만들어 나간다. 카테고리 분류는 솔루션 공간을 형성하는 것이고 카테고리를 나눈 후 큰 카테고리의 세부 카테고리를 만들어 나갈 수 있기 때문에 솔루션 공간을 형성하는 작업이고, 솔루션 공간을 형성하는 것은 더 세분화된 그룹화를 하기 위한 시작점이 된다. 따라서 도메인 모델을 만들기 위한 방법, 곧 솔루션 공간을 형성하는 것은 그룹화 하는 것이다.

### 하위 도메인을 갖는 예
1. ‘주문 관리’ 도메인은 ‘주문’ 도메인을 가지고 있다.
2. ‘인벤토리 관리’ 도메인은 ‘인벤토리’ 도메인을 가지고 있다.

### 그림을 얻자
- 도메인 모델을 만들기 위해 그룹화를 하고 그룹 안에 그룹을 만들어 나가는 방식을 통해 모델에 대한 명확한 그림을 얻을 수 있다.
- 도메인 중심적으로 문제를 해결하기 위해 다이어그램을 만드는 것은 중요하다. 그룹화를 통해 재사용 가능성을 생각할 수 있고 개선 및 리팩토링을 할 수 있는 기초 토대를 만들어 나갈 수 있다.

## 유비쿼터스 언어
- 소프트웨어 설계에 있어 가장 중요한 것
- 정의가 비즈니스와 어떻게 관련되는지 회사 전체에 알려지고 이것이 공유가 될 것
- 유비쿼터스 언어의 용어를 제거 변경, 모델을 항상 최신 상태로 유지하여 도메인 모델의 상태를 최신화 할 것.

### 유비 쿼터스 언어를 만들어 보자.
- 주문 : 고객이 요청한 상품 및 상품의 수량
- 재고 : 창고에 있는 모든 제품의 위치 및 판매 가능한 수량에 대한 정보를 가지고 있는 항목
- 상품 : 창고에서 판매되는 단일 품목, 항목의 가격, 이름, 간단한 설명과 같은 데이터를 가지고 있다.
- 주문 라인 : 단일 제품과 해당 제품의 수량으로 구성 된 단위로 이 단위를 주문부터 배송까지의 라인

### 유비쿼터스 언어
- 소프트웨어 설계에 있어 가장 중요한 것
- 회사는 유비쿼터스 언어의 정의를 공유할 수 있는 환경을 만들어 둬야 한다.
- 유비쿼터스 언어의 용어를 제거 변경, 모델을 항상 최신 상태로 유지하여 도메인 모델의 상태를 최신화 해야 한다.
- 최신화 된 유비쿼터스 언어에 맞게 애플리케이션을 최신화 상태로 바꿔 나가야 한다.

## 빌드 할 대상 정의
- 문제 공간과 솔루션을 모두 설명하는데 사용되는 전반적인 내용을 반영한 대략적인 솔루션을 정의한 유비쿼터스 언어
- 이 유비쿼터스 언어는 문서, 스프레드시트, 일반 텍스트 파일 또는 문서로 정의 될 수 있다.
- 도메인 전문가와 개발자가 동의한 용어로 정의 됨

### 어떻게 애플리케이션을 만들 것인가?
- 애플리케이션에 필요한 기능을 완성하기 위해서 해야 하는 작업들이 무엇인지 대략적인 느낌을 알아야 한다.
- 사용자의 관점에서 일반적인 용어로 일반적인 문장으로 유비쿼터스 언어를 작성한다.

## 사용자의 관점이란?
- 운영 직원 : 창고에서 제품의 위치를 빠르게 탐색하고 선반에서 제품을 빠르게 식별하여 주문을 배송할 준비를 하고 싶다.
- 재고 관리자 : 창고에서 재고를 유지 할 수 있어야 한다.
- 영업 담당자 : 신속하게 고객의 주문을 확인하고 주문을 조정할 수 있도록 제품과 수량을 조정할 수 있다.
- 운영 관리자 : 비즈니스 질문을 해결 할 수 있도록 제품의 수량, 공급업체에서 주문한 수량, 주문 프로세스에 있는 제품 수량을 실시간으로 추적할 수 있어야 한다.

## 사용자의 관점을 통합한 적절한 모델을 형성
- 주문과 인벤토리라는 두 개의 큰 카테고리로 나눌 수 있다.

### 주문
#### 주문 라이프사이클
#### 이행
#### 픽앤펙

### 인밴토리
#### 상품 라이프사이클
#### 위치 추적
#### 수량 타입
- 현재 재고가 있는 상품인지
- 창고 안에 상품은 있지만 예약 중이라서 다른 사람들이 사용하지 못하는 상품인지
- 주문이 어느 정도 예상되는 상품인지 (재고를 충분히 갖춰 놓기 위함)


## 주문 워크 플로우
1. 주문 접수
2. 주문 보류
3. 픽앤팩
4. 주문 배송
5. 주문 완료

1->2 : 결제 필요
2->3 : 주문 상품의 재고가 있는지 확인
3->4 : 창고에서 제품을 꺼내 포장해야 함
4->5 : 상품이 배송되고 고객에게 잘 전달 되었는지 택배사로부터 피드백이 필요함

## 제품의 라이프 사이클
1. 제품을 수령함
2. 수령된 제품은 수량 단위로 관리 된다. 
- 예제이므로 심플한 모델을 만들기 위해 수량의 카운트가 정확하다고 가정하자 또한 예상 되는 카운트의 수가 정확해서 오차 발생이 없는 상황이라고 가정하자.
3. 시스템 장부의 기대 수량(Quantity Expected)에서 받은 수량을 뺀 다음 동일한 숫자를 이용할 수 있는 수량(Quantity Available) 카운트에 추가한다.
4. 기존에 다루지 않던 새 제품이 추가된 경우, 해당 제품에 대한 새 레코드를 생성한 다음 해당 제품의 이용 가능한 개수를 추가해야 한다.
5. 새로운 제품에 대한 수량을 증가시키는 것은 기존 상품의 수량을 추가하는 것 만큼 간단하지는 않다. 새로운 제품의 새로운 사양이 추가된다면 이 사양을 반영하는 시스템을 만들어 줘야 할 것이다. 하지만 각 제품에 대한 기존 레코드가 있다고 가정한다.
6. 새 제품이 추가 되면 보관 담당자는 해당 제품을 창고의 지정된 위치에 둔다. 제품이 창고의 선반에 위치하면 해당 상품을 이용 가능 상태로 만든다.

## 그룹화와 비즈니스로직
1. 제품 수령 (Product Workflow)
- 1->2. 제품 수량 업로드 (Order Workflow)
2. 제품 태깅 (Product Workflow)
- 2->3. 위치 코드를 통해 선반위에 제품을 둔다. (Order Workflow)
3. 제품이 선반 위에 위치 함 (Product Workflow)
- 3->4. 제품에 대한 주문이 들어 옴 (Order Workflow)
4. 제품이 선택 됨 (Product Workflow)
- 4->5. 수량 조정 (Order Workflow)
5. 제품이 판매 됨 (Product Workflow)
- Product Workflow와 Order Workflow라는 두 개의 카테고리로 나눠서 생각을 했지만, 프로덕트 워크 플로우와 오더 워크 플로우는 서로 교차되면서 비즈니스 로직을 구성한다.
- 그룹화된 모델은 그룹들 간의 연결 (네트워크)를 통해 로직을 구성한다.
