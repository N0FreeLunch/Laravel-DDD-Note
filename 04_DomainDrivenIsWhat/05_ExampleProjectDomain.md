## 유비쿼터스 언어를 만들기에 앞서서 할 것
- 개발자뿐만이 아니 모든 사람이 이해할 수 있는 용어로 도메인 모델링 하기
- 일반적인 비즈니스 용어에 대한 카탈로그를 만들어서 해당 도메인 언어로 잘 설명할 수 있는 능력을 길러야 한다.
- 시스템의 모든 측면을 모델링 하는 데 사용하기 위한 기초 자료가 되기 때문에 조직의 모든 구성원이 비즈니스 아이디어를 전달하고 설명하고 활용하기 때문에 정확해야 한다.


## 당면한 문제
- 창고 관리 시스템을 만들 예정이다.
- 일상적인 프로세스를 자동화 하여 더 효율적이게 만들려고 한다.
- 고객이 더 많은 제품을 배송하여 더 많은 수익을 남기고자 한다고 하자.
- 주문과 배송은 전자 상거래 플랫폼에서 관리되고 있는 상황이다. 하지만 시스템에는 추적 
- 기능이나 재고 관리가 없기 때문에 사람들이 직접 이를 기록하면서 작업하고 있다.
- 앱의 보고 기능은 다양한 수식과 합계가 포함된 여러 색상의 Excel 스프레드시트로 구성된다.
- 더 큰 창고로 확장하면서 주문 이행 시 어려움을 겪고 있음
- 위치 관리 솔루션이 없기 때문에 프로세스가 급격히 느려짐
- 단일 대량 주문을 완료하는데 10~45분이 소요



## 창고 관리 문제를 해결하기 위한 방안
- 현재 당면한 문제를 부분적으로 보는 것 보다는 전체적으로 보아 포괄적인 솔루션을 찾으려고 노력해야 한다. 왜냐하면 포괄적인 솔루션을 찾는 것은 전체적인 문제를 좀 더 쉽게 해결하기 위한 방법이기 때문이다. 포괄적인 솔루션을 찾을 수 없는 경우가 되면 부분적인 해결 방안을 모색하는 것이 좋아 보인다.
- 제품의 위치 관리 문제를 해결하기 위해 새로운 위치 계획을 고안해야 한다. 


## 도메인 용어 카탈로그
### 용어 리스트
- Order management (주문 관리)
- Inventory updates/audits (재고 업데이트 감사)
- Order tracking lifecycle/workflow (주문 수명 및 워크플로우 추적)
- Inventory management (재고 관리)
- Item tracking (품목 추적)
- Location in warehouse (창고 위치)
- Quantities (수량)
- Reserved: Amount of a product that’s already spoken for (예약됨 : 이미 언급된 상품의 수)
- Available: Amount of a product that is in stock and ready to be sold (가능 : 재고가 있고 판매 준비가 된 제품의 양)
- Expecting: Amount of a product that is on order (backordered) (예상 : 주문된 제품의 양)
- Item lifecycle process/workflow (상품의 프로세스 및 워크 플로우의 라이프사이클)
- Fulfillment (이행)
- Pick and pack (피킹, 패킹(포장))
- Shipping system (배송 시스템)
- Order fulfillment process/workflow (픽업 및 포장)

_기본적으로 영어로 정의 된 용어라서 일부 용어의 부자연스러움이 있을 수 있다._

## 비즈니스적인 목표를 생각하자.
- 물류라는 도메인은 고객의 주문을 받고 배송함으로 수익을 창출한다.
- 주문을 성공적으로 처리하는 것, 배송에 걸리는 시간을 줄이는 것은 비즈니스의 성공에 큰 영향을 미친다.
- 물류 비즈니스의 성공을 위해서는 정확하고 반복가능하며 빠른 주문의 워크 플로우가 필요하다.

### 주문 워크 플로우 (개선해야 할 부분)
- 현재 물건의 주문 및 지불을 수학하는 플렛폼에는 특별한 문제가 없는 상태
- 주문을 처리하면 창고의 상품이 이동하게 된다. 상품이 이동하는 과정을 추적하는 과정이 필요하다.
- 상품이 이동하여 고객에게 전달되는 과정이 주문 워크 플로우에 해당한다.

## 주문의 라이프사이클
- 주문 워크 플로우를 하나의 라이프사이클로 간주하자.
1. 고객이 주문을 한다.
2. 고객이 돈을 지불한다.
3. 고객의 주문은 받아들여질 때까지 대기한다.
4. 상품을 보낼 수 있는 상태인지 재고 상태 등을 확인한다.
5. 상품의 상태에 따라 고객에게 배송가능한지 배송 불가능한지 통지한다.
6. 배송 가능하다면 상품을 창고에서 가져와 포장한다.
7. 상품을 보낼 준비가 되면 상품을 보낸다고 고지한다.
8. 상품이 물류 창고에서 떠나며 주문이 완료 된다.
9. 상품이 고객에게 도착한다.

## 유비쿼터스 언어를 만들 때 주의 할 점
- 도메인에서 사용되는 용어들은 가능한 한 통일 하는 것이 중요하다.
- 유비쿼터스 언어에서 도메인 용어는 도메인 전문가들이 사용하는 것을 쓰는 것으로 하는 것이 일관성이 높다.
- 비즈니스 활동을 하는 사람들은 용어 사용을 합의하고 통일하는 것이 중요하다.
- 유비쿼터스 언어에서 용어의 중의적인 의미 불분명한 표현을 사용해서는 안 된다. 이는 시스템에서 실수, 잘못 표현하는 것 또는 잘못 해석될 수 있는 여지를 제공하기 때문에 시스템을 잘못되게 만들 게 할 가능성이 있기 때문에 중요한 부분이다. 
- 도메인 모델은 실제 표준 개체 및 프로세스의 미러 이미지 모델이란 의미를 그 자체로 반영하는 것과 같은 표현력을 가져야 한다.
- 유비쿼터스 언어는 이를 소프트웨어로 구현을 해도 비즈니스 로직적인 오류가 생기지 않게 구성하려고 노력하는 것이 중요하다. 


## 업무의 도메인으로 생각을 해 보자.
- 고객이 온라인 전자상거래 시스템을 통해 주문을 한다. (주문)
- 창고의 물류 이동을 담당하는 사람들은 결제 대기 상태의 주문이 있는 것을 확인할 수 있다. (결제 대기)
- 고객의 지불이 이루어진다. (지불 대기)
- 지불 대기 상태가 주문 처리 대기 상태로 바뀐다.
- 물류 쪽에서는 상품의 재고가 있는지 상품이 배송가능한지를 파악한 한다.
- 배송가능하다면 픽앤팩 단계로 바꾼다.
- 창고의 물류를 담당하는 사람은 픽 목록에 있는 물건을 창고에서 꺼내 온다. (이 때 창고의 재고가 픽하고 있는 상태로 변경이 되어 재고의 펑크가 나지 않도록 시스템을 만들 수도 있다.) (이 과정을 피킹이라고 함)
- 상품을 배송할 수 있도록 포장하는 과정으로 변경한다. (이 과정을 패킹이라고 함) 
- 올바른 품목이 상자 안에 있고 적절한 준비가 되어 있는지 확인하는 단계가 필요할 수 있다. 
- 택배 회사가 제공하는 픽업으로 운반된다.
- 택배 회사가 고객에게 상품을 전달하고 고객에게 상품을 전달했다는 피드를 보내온다.
- 택배사가 보낸 피드를 바탕으로 상품 전달을 완료했다는 처리를 한다.

#### 도메인에 외부 시스템을 이용하는 경우
- 택배 회사가 제공하는 운반 과정은 타 회사가 제공을 해야 하는 부분이라서 생략할 수 있다. 타 회사의 내부 프로세스는 그 회사가 제공하지 않는 한 알 수 없기 때문에 타 회사의 시스템에 의존할 수밖에 없다.
- 따라서 이용하려는 외부 시스템을 어떻게 활용할 수 있는지 충분히 조사하는 것이 중요하다.

#### 실제 도메인의 모든 과정을 다 소프르웨어화를 할 필요가 있나?
- 그리고 실제 업무의 이론적인 부분과 실제로 적용되고 있는 부분이 다를 수 있다. 이론적으로는 존재하지만 이론을 다 지키기 힘들기 때문에 일부 생략되는 부분들이 존재할 수 있다.
- 개발자는 실제로 업무 도메인에서 기능의 추가 확장이 일어나지 않을 것이라고 생각한 부분에서 기능의 추가 확장이 일어날 수 있으며 이럴 경우를 대비해서 추가 확장이 가능한 설계를 어느 부분에서든지 하는 것이 중요할 수 있다.

#### 간략한 예 
- 실제 시스템을 구성하게 되면 훨씬 복잡한 요구사항들이 나타날 수 있다. 현재는 도메인 설계를 대략 보이기 위한 간략한 워크 플로우를 나타낸 것임에 주의 하자

### 재고 관리
- 추가 재고를 주문할 시기를 아는 것이 중요하다. 왜냐하면 상품을 빠른 시간 내에 배송을 하기 위해서는 재고를 쌓아 둬야 하는데 재고가 없다면 제품을 받아오고 배송하기까지 많은 시간이 걸리기 때문이다. 재고가 쌓여 있지 않으면 상품이 배송가능한지 불가능한지도 파악하기 힘들기 때문에 빠른 배송을 이루기 위한 미션을 수행하는데 차질이 생길 수 있기 때문이다.
- 보통은 최근의 상품 판매량의 추세를 보고 재고가 얼마나 필요할 것인지를 판단할 것. 

## 지식 수집
- 소프트웨어를 모델링 할 때 가장 중요한 일이다.
- 객체의 내부 구조를 형성할 때 수집된 지식을 통해 사용한다.
- 유비쿼터스 언어(UL)를 구축하기 위해 도메인 전문가들과 충분히 논의 할 것.

## 시스템의 특징
- 창고 내부의 모든 제품에 대한 기록을 유지하고 제품의 위치를 나타낸다.

### 주문의 워크 플로우를 간단하게 하자면
1. 주문된 상품 리스트에서 제품을 찾는다.
2. 지정된 수량만큼 아이템을 잡거나 픽한다.
3. 포장 상자에 넣고 포장을 밀봉한 후 택배로 발송한다.

### 빈틈 찾기
- 이 워크 플로의 실무에서는 상품이 창고의 어디에 위치해 있는지를 파악하는 것은 그 일을 하고 있는 사람만이 알고 있기 때문에 일에 익숙하지 않은 사람이라면 시간이 걸릴 수 있는 작업이다.
- 이와 같이 문서화 되지 않고 도메인 전문가의 머릿속에만 있는 지식이라면 이를 도메인을 새로 접한 사람에게 가르치는 것은 매우 어렵다. 신입사원에게 교육을 한다던가 할 때 지식을 가르치는 것은 도메인 전문가의 지식과 그와 같이 일을 하면서 터득해야만 한다.

### 빈틈을 개선할 방법 찾기
- 창고 직원이 주문을 배송할 수 있또록 제품을 찾는데 너무 오래 걸린다는 문제를 해결하기 위해서 선반에서 항목을 빠르게 찾고 선택하는데 도움을 주는 무언가가 필요하다.
- 상품을 빠르게 찾을 수 있는 비즈니스 로직을 도입하는 것이 좋다. (창고 지도에 표시 같은 기능)
